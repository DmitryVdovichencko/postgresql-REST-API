"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _dotenv = _interopRequireDefault(require("dotenv"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//allow you to use those environment variables
_dotenv.default.config();

const {
  Pool
} = require('pg'); // in an environment like Heroku, NODE_ENV will be set to production so you can have different behavior between environments


const isProduction = process.env.NODE_ENV === 'production'; //creating a pattern:  postgresql://USER:PASSWORD@HOST:PORT/DATABASE

const connectionString = `postgresql://${process.env.DB_USER}:${process.env.DB_PASSWORD}@${process.env.DB_HOST}:${process.env.DB_PORT}/${process.env.DB_DATABASE}`;
const pool = new Pool({
  connectionString: isProduction ? process.env.DATABASE_URL : connectionString,
  ssl: isProduction
});
var _default = pool;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb25maWcuanMiXSwibmFtZXMiOlsiZG90ZW52IiwiY29uZmlnIiwiUG9vbCIsInJlcXVpcmUiLCJpc1Byb2R1Y3Rpb24iLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJjb25uZWN0aW9uU3RyaW5nIiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwiREJfSE9TVCIsIkRCX1BPUlQiLCJEQl9EQVRBQkFTRSIsInBvb2wiLCJEQVRBQkFTRV9VUkwiLCJzc2wiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBO0FBRUFBLGdCQUFPQyxNQUFQOztBQUVBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFXQyxPQUFPLENBQUMsSUFBRCxDQUF4QixDLENBQ0E7OztBQUNBLE1BQU1DLFlBQVksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBOUMsQyxDQUNBOztBQUNBLE1BQU1DLGdCQUFnQixHQUFJLGdCQUFlSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUcsT0FBUSxJQUFHSixPQUFPLENBQUNDLEdBQVIsQ0FBWUksV0FBWSxJQUFHTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUssT0FBUSxJQUFHTixPQUFPLENBQUNDLEdBQVIsQ0FBWU0sT0FBUSxJQUFHUCxPQUFPLENBQUNDLEdBQVIsQ0FBWU8sV0FBWSxFQUFqSztBQUVBLE1BQU1DLElBQUksR0FBRyxJQUFJWixJQUFKLENBQVM7QUFDcEJNLEVBQUFBLGdCQUFnQixFQUFFSixZQUFZLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZUyxZQUFmLEdBQThCUCxnQkFEeEM7QUFFcEJRLEVBQUFBLEdBQUcsRUFBRVo7QUFGZSxDQUFULENBQWI7ZUFLZVUsSSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52J1xuLy9hbGxvdyB5b3UgdG8gdXNlIHRob3NlIGVudmlyb25tZW50IHZhcmlhYmxlc1xuXG5kb3RlbnYuY29uZmlnKClcblxuY29uc3QgeyBQb29sIH0gPSByZXF1aXJlKCdwZycpXG4vLyBpbiBhbiBlbnZpcm9ubWVudCBsaWtlIEhlcm9rdSwgTk9ERV9FTlYgd2lsbCBiZSBzZXQgdG8gcHJvZHVjdGlvbiBzbyB5b3UgY2FuIGhhdmUgZGlmZmVyZW50IGJlaGF2aW9yIGJldHdlZW4gZW52aXJvbm1lbnRzXG5jb25zdCBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nXG4vL2NyZWF0aW5nIGEgcGF0dGVybjogIHBvc3RncmVzcWw6Ly9VU0VSOlBBU1NXT1JEQEhPU1Q6UE9SVC9EQVRBQkFTRVxuY29uc3QgY29ubmVjdGlvblN0cmluZyA9IGBwb3N0Z3Jlc3FsOi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUAke3Byb2Nlc3MuZW52LkRCX0hPU1R9OiR7cHJvY2Vzcy5lbnYuREJfUE9SVH0vJHtwcm9jZXNzLmVudi5EQl9EQVRBQkFTRX1gXG5cbmNvbnN0IHBvb2wgPSBuZXcgUG9vbCh7XG4gIGNvbm5lY3Rpb25TdHJpbmc6IGlzUHJvZHVjdGlvbiA/IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCA6IGNvbm5lY3Rpb25TdHJpbmcsXG4gIHNzbDogaXNQcm9kdWN0aW9uLFxufSlcblxuZXhwb3J0IGRlZmF1bHQgcG9vbFxuIl19